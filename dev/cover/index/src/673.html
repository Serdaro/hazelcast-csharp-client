<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>D:\a\hazelcast-csharp-client\hazelcast-csharp-client\src\Hazelcast.Net\Aggregation\Aggregators.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// Copyright (c) 2008-2021, Hazelcast, Inc. All Rights Reserved.
//
// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

using System.Numerics;

namespace Hazelcast.Aggregation
{
    /// &lt;summary&gt;
    /// Creates &lt;see cref=&quot;IAggregator{TResult}&quot;/&gt; instances.
    /// &lt;/summary&gt;
    /// &lt;remarks&gt;
    /// Min/Max/Average aggregators are type specific, so an IntegerAvg() aggregator expects all elements to be integers.
    /// There is no conversion executed while accumulating, so if there is any other type met an exception will be thrown.
    /// &lt;br/&gt;
    /// In order to operate on a generic Number type use the &lt;see cref=&quot;FixedPointSum(string)&quot;/&gt;,
    /// &lt;see cref=&quot;FloatingPointSum(string)&quot;/&gt; and &lt;see cref=&quot;NumberAvg(string)&quot;/&gt; aggregators.
    /// All of them will convert the given number to either Long or Double during the accumulation phase.
    /// It will result in a lot of allocations since each number has to be converted, but it enables the user
    /// to operate on the whole family of numbers. It is especially useful if the numbers given to the aggregators
    /// may not be of one type only.
    /// &lt;br/&gt;
    /// The attributePath given in the factory method allows the aggregator to operate on the value extracted by navigating
    /// to the given attributePath on each object that has been returned from a query.
    /// The attribute path may be simple, e.g. &quot;name&quot;, or nested &quot;address.city&quot;.
    /// &lt;br/&gt;
    /// If an aggregator does not accept null values pass a predicate to the aggregate call that will filter them out.
    /// &lt;br/&gt;
    /// If the input value or the extracted value is a collection it won&#39;t be &quot;unfolded&quot; - so for example
    /// count aggregation on &quot;person.postalCodes&quot; will return 1 for each input object and not the size of the collection.
    /// In order to calculate the size of the collection use the [any] operator, e.g. &quot;person.postalCodes[any]&quot;.
    /// &lt;/remarks&gt;
    public static class Aggregators
    {
        /// &lt;summary&gt;
        /// Counts input values (accepts nulls).
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;long&gt; Count()
        {
            return new CountAggregator();
        }

        /// &lt;summary&gt;
        /// Counts input values (accepts nulls).
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;An attribute path.&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        /// &lt;remarks&gt;&lt;para&gt;Values are extracted from the specified &lt;paramref name=&quot;attributePath&quot;/&gt;.&lt;/para&gt;&lt;/remarks&gt;
        public static IAggregator&lt;long&gt; Count(string attributePath)
        {
            return new CountAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// Averages &lt;see cref=&quot;double&quot;/&gt; input values (does not accept nulls).
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; DoubleAvg()
        {
            return new DoubleAverageAggregator();
        }

        /// &lt;summary&gt;
        /// Averages &lt;see cref=&quot;double&quot;/&gt; input values (does not accept nulls).
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;An attribute path.&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        /// &lt;remarks&gt;&lt;para&gt;Values are extracted from the specified &lt;paramref name=&quot;attributePath&quot;/&gt;.&lt;/para&gt;&lt;/remarks&gt;
        public static IAggregator&lt;double&gt; DoubleAvg(string attributePath)
        {
            return new DoubleAverageAggregator(attributePath);
        }

        /// &lt;summary&gt;
        ///  an aggregator that calculates the average of the input values.
        /// Does NOT accept null input values.
        /// Accepts only int input values
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; IntegerAvg()
        {
            return new IntegerAverageAggregator();
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the average of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts only int input values
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; IntegerAvg(string attributePath)
        {
            return new IntegerAverageAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the average of the input values.
        /// Does NOT accept null input values.
        /// Accepts only long input values
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; LongAvg()
        {
            return new LongAverageAggregator();
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the average of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts only long input values
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; LongAvg(string attributePath)
        {
            return new LongAverageAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the average of the input values.
        /// Does NOT accept null input values.
        /// Accepts float or double input values.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; NumberAvg()
        {
            return new NumberAverageAggregator();
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the average of the input values.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts float or double input values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; NumberAvg(string attributePath)
        {
            return new NumberAverageAggregator(attributePath);
        }

        // ---------------------------------------------------------------------------------------------------------
        // max aggregators
        // ---------------------------------------------------------------------------------------------------------

        /// &lt;summary&gt;
        /// an aggregator that calculates the max of the input values.
        /// Accepts null input values
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;TResult&gt; Max&lt;TResult&gt;()
        {
            return new MaxAggregator&lt;TResult&gt;();
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the max of the input values extracted from the given attributePath.
        /// Accepts null input values and null extracted values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;TResult&gt; Max&lt;TResult&gt;(string attributePath)
        {
            return new MaxAggregator&lt;TResult&gt;(attributePath);
        }

        // ---------------------------------------------------------------------------------------------------------
        // min aggregators
        // ---------------------------------------------------------------------------------------------------------

        /// &lt;summary&gt;
        /// an aggregator that calculates the min of the input values.
        /// Accepts null input values
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;TResult&gt; Min&lt;TResult&gt;()
        {
            return new MinAggregator&lt;TResult&gt;();
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the min of the input values extracted from the given attributePath.
        /// Accepts null input values and null extracted values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;TResult&gt; Min&lt;TResult&gt;(string attributePath)
        {
            return new MinAggregator&lt;TResult&gt;(attributePath);
        }

        // ---------------------------------------------------------------------------------------------------------
        // sum aggregators
        // ---------------------------------------------------------------------------------------------------------

        /// &lt;summary&gt;
        /// An aggregator that calculates the sum of the input values.
        /// Does NOT accept null input values.
        /// Accepts only BigInteger input values.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;BigInteger&gt; BigIntegerSum()
        {
            return new BigIntegerSumAggregator();
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the sum of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts only BigInteger input values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;BigInteger&gt; BigIntegerSum(string attributePath)
        {
            return new BigIntegerSumAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the sum of the input values.
        /// Does NOT accept null input values.
        /// Accepts only double input values.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; DoubleSum()
        {
            return new DoubleSumAggregator();
        }

        /// &lt;summary&gt;
        /// An aggregator that calculates the sum of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts only double input values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; DoubleSum(string attributePath)
        {
            return new DoubleSumAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the sum of the input values.
        /// Does NOT accept null input values.
        /// Accepts only int input values.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;long&gt; IntegerSum()
        {
            return new IntegerSumAggregator();
        }

        /// &lt;summary&gt;
        /// An aggregator that calculates the sum of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts only int input values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;long&gt; IntegerSum(string attributePath)
        {
            return new IntegerSumAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the sum of the input values.
        /// Does NOT accept null input values.
        /// Accepts only long input values.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;long&gt; LongSum()
        {
            return new LongSumAggregator();
        }

        /// &lt;summary&gt;
        /// An aggregator that calculates the sum of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts only long input values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;long&gt; LongSum(string attributePath)
        {
            return new LongSumAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the sum of the input values.
        /// Does NOT accept null input values.
        /// Accepts float or double input values.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;long&gt; FixedPointSum()
        {
            return new FixedSumAggregator();
        }

        /// &lt;summary&gt;
        /// An aggregator that calculates the sum of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts float or double input values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;long&gt; FixedPointSum(string attributePath)
        {
            return new FixedSumAggregator(attributePath);
        }

        /// &lt;summary&gt;
        /// an aggregator that calculates the sum of the input values.
        /// Does NOT accept null input values.
        /// Accepts float or double input values.
        /// &lt;/summary&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; FloatingPointSum()
        {
            return new FloatingPointSumAggregator();
        }

        /// &lt;summary&gt;
        /// An aggregator that calculates the sum of the input values extracted from the given attributePath.
        /// Does NOT accept null input values nor null extracted values.
        /// Accepts float or double input values.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;attributePath&quot;&gt;attribute Path&lt;/param&gt;
        /// &lt;returns&gt;The aggregator.&lt;/returns&gt;
        public static IAggregator&lt;double&gt; FloatingPointSum(string attributePath)
        {
            return new FloatingPointSumAggregator(attributePath);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[51,13,51,42,0],[62,13,62,55,0],[71,13,71,50,0],[82,13,82,63,0],[93,13,93,51,0],[105,13,105,64,0],[116,13,116,48,0],[128,13,128,61,0],[139,13,139,50,0],[151,13,151,63,0],[165,13,165,49,0],[176,13,176,62,0],[190,13,190,49,0],[201,13,201,62,0],[216,13,216,50,0],[228,13,228,63,0],[239,13,239,46,0],[251,13,251,59,0],[262,13,262,47,0],[274,13,274,60,0],[285,13,285,44,0],[297,13,297,57,0],[308,13,308,45,0],[320,13,320,58,0],[331,13,331,53,0],[343,13,343,66,0]]);
    </script>
  </body>
</html>